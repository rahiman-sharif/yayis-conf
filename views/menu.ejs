<%- include('partials/header', { title: 'Menu' }) %>

<!-- Hero Section for Menu -->
<section class="menu-hero">
    <div class="container">
        <div class="menu-hero-content">
            <h1 class="menu-hero-title">Our Delicious Menu</h1>
            <p class="menu-hero-subtitle">Handcrafted confections made with love and the finest ingredients</p>
            <div class="menu-stats">
                <div class="stat-item">
                    <span class="stat-number"><%= menuItems ? menuItems.length : 0 %></span>
                    <span class="stat-label">Delicious Items</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Fresh Daily</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">24hr</span>
                    <span class="stat-label">Order Notice</span>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="menu-section">
    <div class="container">
        <% if (menuItems && menuItems.length > 0) { %>
            <!-- Filter Buttons -->
            <div class="menu-filter-container">
                <h3>Browse Our Selection</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All Items</button>
                    <button class="filter-btn" data-filter="cakes">Cakes</button>
                    <button class="filter-btn" data-filter="cupcakes">Cupcakes</button>
                    <button class="filter-btn" data-filter="pastries">Pastries</button>
                </div>
            </div>
            
            <div class="enhanced-menu-grid">
                <% menuItems.forEach((item, index) => { %>
                    <div class="enhanced-menu-item scroll-animate" data-category="<%= item.category || 'cakes' %>" style="animation-delay: <%= index * 0.1 %>s">
                        <div class="menu-item-image-container">
                            <img src="<%= item.image %>" alt="<%= item.name %>" loading="lazy">
                            <div class="image-overlay">
                                <div class="quick-actions">
                                    <a href="/menu/<%= item.id %>" class="quick-view-btn" title="Quick View">
                                        <i class="icon-eye">üëÅÔ∏è</i>
                                    </a>
                                    <% if (whatsappNumber) { %>
                                        <a href="https://wa.me/<%= whatsappNumber %>?text=Hi, I'm interested in ordering the <%= encodeURIComponent(item.name) %> for $<%= item.price.toFixed(2) %>." target="_blank" class="quick-order-btn" title="Quick Order">
                                            <i class="icon-whatsapp">üì±</i>
                                        </a>
                                    <% } %>
                                </div>
                            </div>
                            <div class="price-badge">$<%= item.price.toFixed(2) %></div>
                        </div>
                        
                        <div class="menu-item-content">
                            <div class="item-header">
                                <h3><%= item.name %></h3>
                                <div class="rating-stars">
                                    <span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                                    <span class="rating-text">(4.8)</span>
                                </div>
                            </div>
                            
                            <p class="item-description"><%= item.description.substring(0, 120) %><%= item.description.length > 120 ? '...' : '' %></p>
                            
                            <% if (item.ingredients && item.ingredients.length > 0) { %>
                                <div class="key-ingredients">
                                    <span class="ingredients-label">Key:</span>
                                    <% item.ingredients.slice(0, 3).forEach(ingredient => { %>
                                        <span class="ingredient-tag"><%= ingredient %></span>
                                    <% }); %>
                                </div>
                            <% } %>
                            
                            <div class="menu-item-footer">
                                <div class="item-meta">
                                    <span class="prep-time">üïí 24hr notice</span>
                                    <span class="fresh-badge">üåø Fresh</span>
                                </div>
                                <div class="menu-item-actions">
                                    <a href="/menu/<%= item.id %>" class="btn-view-details">View Details</a>
                                    <% if (whatsappNumber) { %>
                                        <a href="https://wa.me/<%= whatsappNumber %>?text=Hi, I'm interested in ordering the <%= encodeURIComponent(item.name) %> for $<%= item.price.toFixed(2) %>." target="_blank" class="btn-order-now">Order Now</a>
                                    <% } %>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        <% } else { %>
            <div class="empty-menu-state">
                <div class="empty-icon">üç∞</div>
                <h3>Our menu is currently being updated</h3>
                <p>We're working hard to bring you amazing new treats. Please check back soon!</p>
                <a href="/" class="btn-secondary">Return Home</a>
            </div>
        <% } %>
    </div>
</section>

<%- include('partials/footer') %>
