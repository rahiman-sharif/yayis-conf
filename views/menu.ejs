<%- include('partials/header', { title: 'Our Menu' }) %>

<!-- Menu Hero Section -->
<section class="hero-section menu-hero-specific">
    <div class="hero-background" style="background-image: url('/images/brand/menu-hero-bg.jpg');">
        <div class="hero-overlay"></div>
    </div>
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Discover Our Delights</h1>
            <p class="hero-subtitle">Freshly baked treats, crafted with passion and the finest ingredients.</p>
        </div>
    </div>
</section>

<section class="page-section menu-items-section">
    <div class="container">
        <% if (typeof menuItems !== 'undefined' && menuItems.length > 0) { %>
            <div class="menu-grid">
                <% menuItems.forEach(item => { %>
                    <div class="menu-card">
                        <div class="menu-card-image">
                            <img src="<%= item.image %>" alt="<%= item.name %>" loading="lazy">
                            <div class="menu-card-image-overlay">
                                <a href="/menu/<%= item.id %>" class="btn btn-outline-light btn-sm">
                                    <i class="fas fa-eye"></i> View Details
                                </a>
                            </div>
                        </div>
                        <div class="menu-card-content">
                            <h3 class="menu-card-title"><%= item.name %></h3>
                            <p class="menu-card-price">Rs <%= item.price %></p>
                            <p class="menu-card-description">
                                <%= item.description.length > 100 ? item.description.substring(0, 100) + '...' : item.description %>
                            </p>
                            <% if (item.ingredients && item.ingredients.length > 0) { %>
                                <div class="menu-card-ingredients">
                                    <strong>Main Ingredients:</strong>
                                    <div class="ingredient-tags">
                                        <% item.ingredients.slice(0, 4).forEach(ingredient => { %>
                                            <span class="ingredient-tag"><%= ingredient %></span>
                                        <% }); %>
                                        <% if (item.ingredients.length > 4) { %>
                                            <span class="ingredient-tag more">+<%= item.ingredients.length - 4 %></span>
                                        <% } %>
                                    </div>
                                </div>
                            <% } %>
                            <div class="menu-card-actions">
                                <a href="/menu/<%= item.id %>" class="btn btn-secondary btn-block">
                                    <i class="fas fa-info-circle"></i> More Details
                                </a>
                                <% if (typeof whatsappNumber !== 'undefined' && whatsappNumber) { %>
                                    <a href="https://wa.me/91<%= whatsappNumber %>?text=Hi! I'd like to order the <%= encodeURIComponent(item.name) %> (Rs <%= item.price %>)" target="_blank" class="btn btn-primary btn-block">
                                        <i class="fab fa-whatsapp"></i> Order via WhatsApp Now
                                    </a>
                                <% } %>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        <% } else { %>
            <div class="empty-state">
                <div class="empty-state-icon"><i class="fas fa-cookie-bite"></i></div>
                <h2 class="empty-state-title">Our Menu is Baking!</h2>
                <p class="empty-state-message">We're currently whipping up some new delicious items. Please check back soon for our updated menu!</p>
                <a href="/" class="btn btn-primary">Back to Home</a>
            </div>
        <% } %>
    </div>
</section>

<%- include('partials/footer') %>
